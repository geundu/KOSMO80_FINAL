<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.ac.paprika.admin">
	<resultMap type="java.util.Map" id="adminMap" />
	<select id="getMember" parameterType="map"
		statementType="CALLABLE">
		{CALL PROC_PRO_PEOPLE_SELECT(#{PROFESSOR_OR_STUDENT}
		, #{STATUS}, #{YEAR}, #{NUMBER}
		, #{COL}, #{NAME},
		#{cursor,
		jdbcType=CURSOR, mode=OUT, resultMap = adminMap} )}
	</select>
	<select id="getStudentGrade" parameterType="map"
		statementType="CALLABLE">
		{CALL PROC_MARK_PRO(#{COURSE_NUMBER},
		#{cursor, jdbcType=CURSOR, mode=OUT, resultMap = adminMap})}
	</select>
	<select id="memberInsertUpdate" parameterType="map"
		statementType="CALLABLE">
		{CALL PROC_PRO_STUDENT_CUD(#{TR_CODE}
		,#{STUDENT_NAME},#{STUDENT_ENG_NAME},#{STUDENT_PHONE},#{COLLEGE_NUMBER}
		,#{STUDENT_ENTER_YEAR},#{STUDENT_EMAIL},#{STUDENT_BIRTH}
		,#{GUARDIAN_NAME}
		,#{GUARDIAN_PHONE},#{MEMO},#{STUDENT_NUMBER},#{REGISTER_NUMBER}
		,#{PEXCEP, jdbcType=INTEGER,mode=OUT}
		,#{PEXCEPMSG, jdbcType=VARCHAR,mode=OUT}
		)}
	</select>
</mapper>